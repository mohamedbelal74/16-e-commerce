import{a as k}from"./chunk-FIDHH3FD.js";import"./chunk-Q6L3W752.js";import{a as D}from"./chunk-MNBUXWPO.js";import"./chunk-5TUTK4RD.js";import{d as _}from"./chunk-GUJGMTCI.js";import{Ab as g,Db as p,Eb as u,Ic as w,Ka as m,Na as a,Nb as S,Pb as d,Rb as s,U as f,Z as l,Za as x,da as b,ea as h,nb as P,ob as E,pb as y,ub as r,vb as o,wb as I,zb as C}from"./chunk-7JRWEJT7.js";var c=class n{httpClient=l(w);getDetailsProduct(i){return this.httpClient.get(`https://ecommerce.routemisr.com/api/v1/products/${i}`)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=f({token:n,factory:n.\u0275fac,providedIn:"root"})};function F(n,i){if(n&1){let e=C();r(0,"img",18),p("click",function(){let v=b(e).$implicit,T=u();return h(T.changeImage(v))}),o()}if(n&2){let e=i.$implicit,t=u();S("ring-2",t.selectedImage===e)("ring-green-600",t.selectedImage===e),g("src",e,m)}}var j=class n{activatedRoute=l(_);detailsProductService=l(c);cartService=l(D);toastrServicef=l(k);id=null;detailsProduct={};selectedImage="";ngOnInit(){this.getProductId()}getProductId(){this.activatedRoute.paramMap.subscribe({next:i=>{this.id=i.get("id"),this.id&&this.getDetailsProdctData(this.id)}})}getDetailsProdctData(i){this.detailsProductService.getDetailsProduct(i).subscribe({next:e=>{this.detailsProduct=e.data,this.selectedImage=this.detailsProduct.imageCover},error:e=>{console.error(e)}})}changeImage(i){this.selectedImage=i}addProducttItemCart(i){this.cartService.addProdctToCart(i).subscribe({next:e=>{console.log(e),e.status==="success"&&(this.cartService.setCartCount(e.numOfCartItems),this.toastrServicef.success(e.message,"Freshcart"))},error:e=>{console.log(e)}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-details"]],decls:26,vars:7,consts:[[1,"py-14","bg-gray-50","mt-10"],[1,"container","mx-auto","px-4"],[1,"text-center","text-green-600","text-3xl","font-bold","mb-10"],[1,"grid","sm:grid-cols-12","gap-8"],[1,"col-span-12","sm:col-span-4"],[1,"shadow-md","rounded-lg","overflow-hidden","mb-4"],[1,"w-full","h-72","object-contain","bg-white","rounded-lg",3,"src","alt"],[1,"flex","gap-3","overflow-x-auto"],[1,"w-20","h-20","object-contain","bg-white","border","rounded-lg","cursor-pointer","hover:ring-2","hover:ring-green-500","transition",3,"src","ring-2","ring-green-600"],[1,"col-span-12","sm:col-span-8"],[1,"p-10","lg:mx-10","bg-gray-200","rounded-md","shadow-md"],[1,"text-2xl","font-semibold","text-gray-800","mb-4"],[1,"text-gray-600","leading-relaxed","mb-6"],[1,"flex","items-center","gap-4","mb-4"],[1,"inline-block","bg-green-100","text-green-700","px-3","py-1","rounded-full","text-sm"],[1,"inline-block","bg-yellow-100","text-yellow-700","px-3","py-1","rounded-full","text-sm"],[1,"text-lg","font-bold","text-green-600","mb-6"],[1,"bg-green-600","text-white","px-6","py-2","rounded-lg","shadow","hover:bg-green-700","transition",3,"click"],[1,"w-20","h-20","object-contain","bg-white","border","rounded-lg","cursor-pointer","hover:ring-2","hover:ring-green-500","transition",3,"click","src"]],template:function(e,t){e&1&&(r(0,"section",0)(1,"div",1)(2,"h1",2),d(3," Product Details "),o(),r(4,"div",3)(5,"div",4)(6,"div",5),I(7,"img",6),o(),r(8,"div",7),E(9,F,1,5,"img",8,P),o()(),r(11,"div",9)(12,"div",10)(13,"h2",11),d(14),o(),r(15,"p",12),d(16),o(),r(17,"div",13)(18,"span",14),d(19),o(),r(20,"span",15),d(21),o()(),r(22,"p",16),d(23),o(),r(24,"button",17),p("click",function(){return t.addProducttItemCart(t.detailsProduct._id)}),d(25," Add to Cart "),o()()()()()()),e&2&&(a(7),g("src",t.selectedImage,m)("alt",t.detailsProduct.title),a(2),y(t.detailsProduct.images),a(5),s(" ",t.detailsProduct.title," "),a(2),s(" ",t.detailsProduct.description," "),a(3),s(" ",t.detailsProduct.category==null?null:t.detailsProduct.category.name," "),a(2),s(" \u2B50 ",t.detailsProduct.ratingsAverage," "),a(2),s(" ",t.detailsProduct.price," EGP "))},encapsulation:2})};export{j as DetailsComponent};
