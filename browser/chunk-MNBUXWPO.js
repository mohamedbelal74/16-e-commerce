import{a as n}from"./chunk-5TUTK4RD.js";import{Ic as o,U as a,Z as s,j as i}from"./chunk-7JRWEJT7.js";var c=class r{httpClient=s(o);cookieService=s(n);baseUrl="https://ecommerce.routemisr.com/api/v1";cartCountSubject=new i(0);cartCount$=this.cartCountSubject.asObservable();constructor(){this.loadCartCountOnInit()}loadCartCountOnInit(){this.getLoggedUserCart().subscribe({next:t=>{this.cartCountSubject.next(t.numOfCartItems||0)},error:()=>{this.cartCountSubject.next(0)}})}setCartCount(t){this.cartCountSubject.next(t)}getAllOrders(){return this.httpClient.get(`${this.baseUrl}/orders`)}addProdctToCart(t){return this.httpClient.post(`${this.baseUrl}/cart`,{productId:t})}getLoggedUserCart(){return this.httpClient.get(`${this.baseUrl}/cart`)}removeSpecificCartItem(t){return this.httpClient.delete(`${this.baseUrl}/cart/${t}`)}updateCartCount(t,e){return this.httpClient.put(`${this.baseUrl}/cart/${t}`,{count:e})}checkOutSession(t,e){return this.httpClient.post(`${this.baseUrl}/orders/checkout-session/${t}?url=http://localhost:4200`,e)}checkOutSessionCash(t,e){return this.httpClient.post(`${this.baseUrl}/orders/${t}`,e)}static \u0275fac=function(e){return new(e||r)};static \u0275prov=a({token:r,factory:r.\u0275fac,providedIn:"root"})};export{c as a};
